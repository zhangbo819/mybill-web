{"version":3,"sources":["components/Bill/index.js","components/Entering/index.js","App.js","reportWebVitals.js","index.js"],"names":["confirm","Modal","Bill","props","update","data","_getData","setState","getMax","state","reduce","r","i","money","split","eval","handleCopy","input","document","createElement","value","map","join","body","appendChild","select","execCommand","removeChild","message","success","duration","maxCount","rtl","content","onClick","setTimeout","destroy","clearAll","title","icon","maskClosable","onOk","Promise","resolve","localStorage","setItem","handleItem","item","index","splice","JSON","stringify","renderHeader","isShowSetting","className","gutter","align","justify","type","disabled","length","style","margin","padding","span","renderItem","date","details","num","Item","bind","this","getItem","parse","reverse","size","header","footer","dataSource","rowKey","React","PureComponent","Entering","handleInput","key","e","target","onPressEnter","refDetails","current","focus","handleDatePickerChange","s","Date","format","now","handleSubmit","console","log","error","refNum","Array","isArray","push","getMonth","getDate","createRef","marginTop","moment","onChange","marginBottom","ref","autoFocus","TabPane","Tabs","App","refBill","defaultActiveKey","centered","activeKey","tab","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5a503b07.chunk.js","sourcesContent":["import React from 'react'\nimport { Button, Col, List, message, Modal, Row, Statistic } from 'antd';\nimport { ExclamationCircleOutlined, SettingOutlined } from '@ant-design/icons';\n\nconst { confirm } = Modal;\n\n\nexport default class Bill extends React.PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            data: [],\n            isShowSetting: true\n        }\n    }\n\n    componentDidMount() {\n        this.update()\n    }\n\n    _getData() {\n        let data = localStorage.getItem('MBD')\n\n        try {\n            data = JSON.parse(data).reverse()\n        } catch {\n            data = []\n        }\n        return data\n    }\n\n    update = () => {\n        const data = this._getData()\n\n        this.setState({ data })\n    }\n\n    getMax = () => {\n        return this.state.data.reduce((r, i) => {\n            const money = i.split('@')[2]\n            r += eval(money)\n            return r\n        }, 0)\n    }\n\n    handleCopy = () => {\n        const input = document.createElement(\"input\"); // 直接构建input\n        input.value = this._getData().map(i => `\"${i}\"`).join(','); // 设置内容\n        document.body.appendChild(input); // 添加临时实例\n        input.select(); // 选择实例内容\n        document.execCommand(\"Copy\"); // 执行复制\n        document.body.removeChild(input); // 删除临时实例\n\n        message.success({\n            // top: 500,\n            duration: 2,\n            maxCount: 3,\n            rtl: true,\n            content: '复制成功',\n            onClick: () => setTimeout(() => message.destroy())\n        });\n    }\n\n    clearAll = () => {\n        confirm({\n            title: '确定要清空吗?',\n            icon: <ExclamationCircleOutlined />,\n            content: '清空后将无法恢复',\n            maskClosable: true,\n            onOk: () => {\n                return new Promise((resolve) => {\n                    localStorage.setItem('MBD', '')\n                    this.setState({ data: [] })\n                    resolve()\n                })\n            }\n        });\n    }\n\n    handleItem = (item, index) => {\n        // console.log('item, index', item, index)\n        confirm({\n            title: '您要删除该条数据吗?',\n            icon: <ExclamationCircleOutlined />,\n            content: '清空后将无法恢复',\n            maskClosable: true,\n            onOk: () => {\n                return new Promise((resolve) => {\n                    const { data } = this.state\n                    data.splice(index, 1)\n                    localStorage.setItem('MBD', JSON.stringify(data))\n                    this.setState({ data: [...data] })\n                    resolve()\n                })\n            }\n        });\n    }\n\n    renderHeader = () => {\n        const { data, isShowSetting } = this.state\n        return <header>\n            {isShowSetting ?\n                <SettingOutlined className=\"Setting\" onClick={() => this.setState({ isShowSetting: !this.state.isShowSetting })} /> :\n                <Row gutter={24} align=\"middle\" justify=\"space-around\">\n                    <Col>\n                        <Button type=\"primary\" onClick={this.clearAll} disabled={data.length === 0}>全部清空</Button>\n                    </Col>\n                    <Col>\n                        <Button type=\"primary\" onClick={this.handleCopy} disabled={data.length === 0}>复制</Button>\n                    </Col>\n                </Row>}\n\n            {data.length !== 0 && <Row gutter={24} style={{ margin: '24px 0 0 0', padding: '0 24px' }}>\n                <Col style={{ padding: 0 }} span={8}><h3>日期</h3></Col>\n                <Col style={{ padding: 0 }} span={8}><h3>详情</h3></Col>\n                <Col style={{ padding: 0 }} span={8}><h3>金额</h3></Col>\n            </Row>}\n        </header>\n    }\n\n    renderItem = (item, index) => {\n        const [date, details, num] = item.split('@')\n        return <List.Item onClick={this.handleItem.bind(this, item, index)}>\n            {/* <Row gutter={24} align=\"middle\"> */}\n            <Col span={8}>{date}</Col>\n            <Col span={8}>{details}</Col>\n            <Col span={8}>{num}</Col>\n            {/* </Row> */}\n        </List.Item>\n    }\n\n    render() {\n        const { data } = this.state\n        return <div>\n            <List\n                size=\"large\"\n                header={this.renderHeader()}\n                footer={<div style={{ margin: '0 24px' }}><Statistic title=\"总记\" value={this.getMax()} /></div>}\n                // bordered\n                dataSource={data}\n                rowKey={item => item}\n                renderItem={this.renderItem}\n            />\n        </div>\n    }\n}","import React from 'react'\nimport { message, Button, Input, Col, Row, DatePicker, InputNumber } from 'antd';\nimport { CarryOutOutlined } from '@ant-design/icons';\nimport moment from 'moment';\n\n\nexport default class Entering extends React.PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            date: new Date(),\n            details: '',\n            num: '',\n        }\n        this.refDetails = React.createRef()\n        this.refNum = React.createRef()\n    }\n\n    handleInput = key => e => {\n        this.setState({ [key]: typeof e === 'object' ? e.target.value : e })\n    }\n\n    onPressEnter = () => {\n        // console.log(this.refNum.current)\n        this.refDetails.current.focus()\n    }\n\n    handleDatePickerChange = (e, s) => {\n        // console.log(e.format(), s)\n        this.setState({ date: new Date(e ? e.format() : Date.now()) })\n    }\n\n    handleSubmit = () => {\n        const { date, details, num } = this.state\n\n        console.log(date, details, num)\n\n        if (details === '' || num === '') {\n            message.error('请输入')\n            if (details === '') {\n                this.refDetails.current.focus()\n            } else if (num === '') {\n                this.refNum.current.focus()\n            }\n            return\n        }\n\n        let data = localStorage.getItem('MBD')\n\n        try {\n            data = JSON.parse(data)\n        } catch {\n            data = []\n        }\n\n        if (!Array.isArray(data)) {\n            data = []\n        }\n\n        // console.log('data', data)\n\n        data.push(`${date.getMonth() + 1}.${date.getDate()}@${details}@${num}`)\n\n        localStorage.setItem('MBD', JSON.stringify(data))\n\n        message.success({\n            // top: 500,\n            duration: 2,\n            maxCount: 3,\n            rtl: true,\n            content: '录入成功',\n            onClick: () => setTimeout(() => message.destroy())\n        });\n\n        this.setState({\n            details: '',\n            num: ''\n        })\n        this.refDetails.current.focus()\n    }\n\n    render() {\n        const { date, details, num } = this.state\n        return <div className=\"Entering\">\n            <Row gutter={24} style={{ marginTop: '12px' }} align=\"middle\">\n                <Col span={8}>\n                    {/* <CarryOutOutlined /> */}\n                    <h3>日期</h3>\n                </Col>\n                <Col span={16}>\n                    <DatePicker value={moment(date)} onChange={this.handleDatePickerChange} />\n                </Col>\n            </Row>\n\n            <Row gutter={24} style={{ marginTop: '24px', marginBottom: '24px' }} align=\"middle\">\n                <Col span={8}>\n                    <h3>金额</h3>\n                </Col>\n                <Col span={16}>\n                    <InputNumber ref={this.refNum} onChange={this.handleInput('num')} value={num} onPressEnter={this.onPressEnter} />\n                </Col>\n            </Row>\n\n            <Row gutter={24} align=\"middle\">\n                <Col span={8}>\n                    <h3>详情</h3>\n                </Col>\n                <Col span={16}>\n                    <Input ref={this.refDetails} onChange={this.handleInput('details')} autoFocus value={details} onPressEnter={this.handleSubmit} />\n                </Col>\n            </Row>\n\n\n            <Row gutter={24} align=\"middle\" justify=\"center\" style={{ marginTop: '24px' }}>\n                <Button type=\"primary\" onClick={this.handleSubmit}>录入</Button>\n            </Row>\n\n        </div >\n    }\n}","import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport { Tabs } from 'antd';\n\nimport Bill from './components/Bill'\nimport Entering from './components/Entering'\n\nconst { TabPane } = Tabs;\n\nfunction App() {\n  const refBill = React.createRef()\n  const onChange = (activeKey) => {\n    // console.log(refBill)\n    if (activeKey === '2') {\n      refBill.current && refBill.current.update()\n    }\n  }\n  return (\n    <div>\n      <Tabs defaultActiveKey=\"1\" centered onChange={onChange}>\n        <TabPane tab=\"录入\" key=\"1\">\n          <Entering />\n        </TabPane>\n        <TabPane tab=\"账本\" key=\"2\">\n          <Bill ref={refBill} />\n        </TabPane>\n      </Tabs>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}